<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				width: 100px;
				height: 100px;
				background: red;
				margin-top: 10px;
				position: relative;
			}
		</style>
	</head>
	<body>
		<input type="button" value="匀速运动" id="move1" />
		<input type="button" value="缓冲运动" id="move2" />
		<div id="div1" class="box"></div>
		<div id="div2" class="box"></div>
		<script type="text/javascript">
			window.onload=function(){
				var btn1=document.getElementById("move1");
				var btn2=document.getElementById("move2");
				var div1=document.getElementById("div1");
				var div2=document.getElementById("div2");
				
				btn1.onclick=function(){
					animation1(div1,500);
				}
				btn2.onclick=function(){
					animation2(div2,500);
				}
				
				function animation1(ele,target){
					clearInterval(ele.timer);
					ele.timer=setInterval(function(){
						var speed=target>ele.offsetLeft?3:-3;
						var val=target-ele.offsetLeft;
						ele.style.left=ele.offsetLeft+speed+'px';
						if(Math.abs(val)<=Math.abs(speed)){
							ele.style.left=target+'px';
							clearInterval(ele.timer);
						}
					},30);
				}
				
				function animation2(ele,target){
					clearInterval(ele.timer);
					ele.timer=setInterval(function(){
						var speed=(target-ele.offsetLeft)/10;
						speed=speed>0?Math.ceil(speed):Math.floor(speed);
						ele.style.left=ele.offsetLeft+speed+'px';
						console.log(ele.offsetLeft);
						console.log(speed);
						if(Math.abs(target-ele.offsetLeft)<=Math.abs(speed)){
							ele.style.left=target+'px';
							clearInterval(ele.timer);
						}
					},30);
				}
				
				
				
				
					
			}
		</script>
	</body>
</html>
